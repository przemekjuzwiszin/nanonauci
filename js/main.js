!function(n){var r={};function c(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return n[a].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=n,c.c=r,c.d=function(n,r,a){c.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:a})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,r){if(1&r&&(n=c(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var t in n)c.d(a,t,function(r){return n[r]}.bind(null,t));return a},c.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(r,"a",r),r},c.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},c.p="",c(c.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\r\n\r\n//CONSTANT\r\nvar CANVAS_WIDTH = 800;\r\nvar CANVAS_HEIGHT = 600;\r\nvar NANONAUT_WIDTH = 181;\r\nvar NANONAUT_HEIGHT = 229;\r\nvar GROUND_Y = 540;\r\nvar NANONAUT_Y_ACCELERATION = 1;\r\nvar SPACE_KEYCODE = 32;\r\nvar NANONAUT_JUMP_SPEED = 20;\r\nvar NANONAUT_X_SPEED = 5;\r\nvar BACKGROUND_WIDTH = 1000;\r\nvar NANONAUT_NR_ANIMATION_FRAMES = 7;\r\nvar NANONAUT_ANIMATION_SPEED = 3;\r\nvar ROBOT_WIDTH = 141;\r\nvar ROBOT_HEIGHT = 139;\r\nvar ROBOT_NR_ANIMATION_FRAMES = 9;\r\nvar ROBOT_ANIMATION_SPEED = 5;\r\nvar ROBOT_X_SPEED = 4;\r\nvar MIN_DISTANCE_BETWEEN_ROBOTS = 400;\r\nvar MAX_DISTANCE_BETWEEN_ROBOTS = 1200;\r\nvar MAX_ACTIVE_ROBOTS = 3;\r\nvar SCREENSHAKE_RADIUS = 16;\r\nvar NANONAUT_MAX_HEALTH = 100;\r\nvar PLAY_GAME_MODE = 0;\r\nvar GAME_OVER_GAME_MODE = 1;\r\n\r\n//PRECONFIGURATION\r\nvar canvas = document.createElement("canvas");\r\nvar c = canvas.getContext("2d");\r\ncanvas.width = CANVAS_WIDTH;\r\ncanvas.height = CANVAS_HEIGHT;\r\ndocument.body.appendChild(canvas);\r\n\r\nvar nanonautImage = new Image();\r\nnanonautImage.src = "assets/img/animatedNanonaut.png";\r\n\r\nvar backgroundImage = new Image();\r\nbackgroundImage.src = "assets/img/background.png";\r\n\r\nvar bush1Image = new Image();\r\nbush1Image.src = "assets/img/bush1.png";\r\n\r\nvar bush2Image = new Image();\r\nbush2Image.src = "assets/img/bush2.png";\r\n\r\nvar robotImage = new Image();\r\nrobotImage.src = "assets/img/animatedRobot.png";\r\n\r\nvar gameMode = PLAY_GAME_MODE;\r\nvar nanonautX = CANVAS_WIDTH / 2;\r\nvar nanonautY = GROUND_Y - NANONAUT_HEIGHT;\r\nvar nanonautYspeed = 0;\r\nvar nanonautIsInTheAir = false;\r\nvar spaceKeyIsPressed = false;\r\nvar nanonautHealth = NANONAUT_MAX_HEALTH;\r\nvar cameraX = 0;\r\nvar cameraY = 0;\r\nvar screenshake = false;\r\nvar nanonautFrameNr = 0;\r\nvar gameFrameCounter = 0;\r\nvar bushData = generateBushes();\r\nvar nanonautSpriteSheet = {\r\n  nrFramesPerRow: 5,\r\n  spriteWidth: NANONAUT_WIDTH,\r\n  spriteHeight: NANONAUT_HEIGHT,\r\n  image: nanonautImage,\r\n};\r\n\r\n//Code to handle the robot sprite sheet (new object)\r\nvar robotSpriteSheet = {\r\n  nrFramesPerRow: 3,\r\n  spriteWidth: ROBOT_WIDTH,\r\n  spriteHeight: ROBOT_HEIGHT,\r\n  image: robotImage,\r\n};\r\n\r\nvar nanonautCollisionRectangle = {\r\n  xOffset: 60,\r\n  yOffset: 20,\r\n  width: 50,\r\n  height: 200,\r\n};\r\n\r\nvar robotCollisionRectangle = {\r\n  xOffset: 50,\r\n  yOffset: 20,\r\n  width: 50,\r\n  height: 100,\r\n};\r\n\r\n//Short list of robots to test\r\nvar robotData = [];\r\n\r\nwindow.addEventListener("keydown", onKeyDown);\r\nwindow.addEventListener("keyup", onKeyUp);\r\n\r\nwindow.addEventListener("load", start);\r\n\r\nfunction start() {\r\n  window.requestAnimationFrame(mainLoop);\r\n}\r\n\r\nfunction generateBushes() {\r\n  var generatedBushData = [];\r\n  var bushX = 0;\r\n  while (bushX < 2 * CANVAS_WIDTH) {\r\n    var bushImage;\r\n    if (Math.random() >= 0.5) {\r\n      bushImage = bush1Image;\r\n    } else {\r\n      bushImage = bush2Image;\r\n    }\r\n    generatedBushData.push({\r\n      x: bushX,\r\n      y: 80 + Math.random() * 20,\r\n      image: bushImage,\r\n    });\r\n    bushX += 150 + Math.random() * 200;\r\n  }\r\n  return generatedBushData;\r\n}\r\n\r\n//MAIN LOOP\r\nfunction mainLoop() {\r\n  update();\r\n  draw();\r\n  window.requestAnimationFrame(mainLoop);\r\n}\r\n\r\n//CONTROL\r\nfunction onKeyDown(event) {\r\n  if (event.keyCode === SPACE_KEYCODE) {\r\n    spaceKeyIsPressed = true;\r\n  }\r\n}\r\n\r\nfunction onKeyUp(event) {\r\n  if (event.keyCode === SPACE_KEYCODE) {\r\n    spaceKeyIsPressed = false;\r\n  }\r\n}\r\n\r\n//UPDATE\r\nfunction update() {\r\n  if (gameMode != PLAY_GAME_MODE) return;\r\n\r\n  gameFrameCounter = gameFrameCounter + 1;\r\n\r\n  nanonautX = nanonautX + NANONAUT_X_SPEED;\r\n  if (spaceKeyIsPressed && !nanonautIsInTheAir) {\r\n    nanonautYspeed = -NANONAUT_JUMP_SPEED;\r\n    nanonautIsInTheAir = true;\r\n  }\r\n\r\n  //Update nanonaut\r\n  nanonautY = nanonautY + nanonautYspeed;\r\n  nanonautYspeed = nanonautYspeed + NANONAUT_Y_ACCELERATION;\r\n  if (nanonautY > GROUND_Y - NANONAUT_HEIGHT) {\r\n    nanonautY = GROUND_Y - NANONAUT_HEIGHT;\r\n    nanonautYspeed = 0;\r\n    nanonautIsInTheAir = false;\r\n  }\r\n\r\n  //Update animation\r\n  if (gameFrameCounter % NANONAUT_ANIMATION_SPEED === 0) {\r\n    nanonautFrameNr = nanonautFrameNr + 1;\r\n    if (nanonautFrameNr >= NANONAUT_NR_ANIMATION_FRAMES) {\r\n      nanonautFrameNr = 0;\r\n    }\r\n  }\r\n\r\n  //Update camera\r\n  cameraX = nanonautX - 150;\r\n\r\n  //Update bushes\r\n  for (var i = 0; i < bushData.length; i++) {\r\n    if (bushData[i].x - cameraX < -CANVAS_WIDTH) {\r\n      bushData[i].x += 2 * CANVAS_WIDTH + 150;\r\n    }\r\n  }\r\n\r\n  //Update robots\r\n  screenshake = false;\r\n  var nanonautTouchedARobot = updateRobots();\r\n  if (nanonautTouchedARobot) {\r\n    screenshake = true;\r\n    if (nanonautHealth > 0) nanonautHealth -= 1;\r\n  }\r\n  //check if the game end\r\n  if (nanonautHealth <= 0) {\r\n    gameMode = GAME_OVER_GAME_MODE;\r\n    screenshake = false;\r\n  }\r\n}\r\n\r\nfunction updateRobots() {\r\n  //Moving and animating robots and detects a collision with a nanonaut\r\n  var nanonautTouchedARobot = false;\r\n  for (var i = 0; i < robotData.length; i++) {\r\n    if (\r\n      doesNanonautOverlapRobot(\r\n        nanonautX + nanonautCollisionRectangle.xOffset,\r\n        nanonautY + nanonautCollisionRectangle.yOffset,\r\n        nanonautCollisionRectangle.width,\r\n        nanonautCollisionRectangle.height,\r\n        robotData[i].x + robotCollisionRectangle.xOffset,\r\n        robotData[i].y + robotCollisionRectangle.yOffset,\r\n        robotCollisionRectangle.width,\r\n        robotCollisionRectangle.height\r\n      )\r\n    ) {\r\n      nanonautTouchedARobot = true;\r\n    }\r\n    robotData[i].x -= ROBOT_X_SPEED;\r\n    if (gameFrameCounter % ROBOT_ANIMATION_SPEED === 0) {\r\n      robotData[i].frameNr = robotData[i].frameNr + 1;\r\n      if (robotData[i].frameNr >= ROBOT_NR_ANIMATION_FRAMES) {\r\n        robotData[i].frameNr = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  //Remove robots that have gone off-screen\r\n  var robotIndex = 0;\r\n  while (robotIndex < robotData.length) {\r\n    if (robotData[robotIndex].x < cameraX - ROBOT_WIDTH) {\r\n      robotData.splice(robotIndex, 1);\r\n    } else {\r\n      robotIndex += 1;\r\n    }\r\n  }\r\n\r\n  if (robotData.length < MAX_ACTIVE_ROBOTS) {\r\n    var lastRobotX = CANVAS_WIDTH;\r\n    if (robotData.length > 0) {\r\n      lastRobotX = robotData[robotData.length - 1].x;\r\n    }\r\n    var newRobotX =\r\n      lastRobotX +\r\n      MIN_DISTANCE_BETWEEN_ROBOTS +\r\n      Math.random() *\r\n        (MAX_DISTANCE_BETWEEN_ROBOTS - MIN_DISTANCE_BETWEEN_ROBOTS);\r\n    robotData.push({\r\n      x: newRobotX,\r\n      y: GROUND_Y - ROBOT_HEIGHT,\r\n      frameNr: 0,\r\n    });\r\n  }\r\n  return nanonautTouchedARobot;\r\n}\r\n\r\nfunction doesNanonautOverlapRobotAlongOneAxis(\r\n  nanonautNearX,\r\n  nanonautFarX,\r\n  robotNearX,\r\n  robotFarX\r\n) {\r\n  var nanonautOverlapsNearRobotEdge =\r\n    nanonautFarX >= robotNearX && nanonautFarX <= robotFarX;\r\n  var nanonautOverlapsFarRobotEdge =\r\n    nanonautNearX >= robotNearX && nanonautNearX <= robotFarX;\r\n  var nanonautOverlapsEntireRobot =\r\n    nanonautNearX <= robotNearX && nanonautFarX >= robotFarX;\r\n  return (\r\n    nanonautOverlapsNearRobotEdge ||\r\n    nanonautOverlapsFarRobotEdge ||\r\n    nanonautOverlapsEntireRobot\r\n  );\r\n}\r\n\r\nfunction doesNanonautOverlapRobot(\r\n  nanonautX,\r\n  nanonautY,\r\n  NANONAUT_WIDTH,\r\n  NANONAUT_HEIGHT,\r\n  robotX,\r\n  robotY,\r\n  ROBOT_WIDTH,\r\n  ROBOT_HEIGHT\r\n) {\r\n  var nanonautOverlapsRobotOnXAxis = doesNanonautOverlapRobotAlongOneAxis(\r\n    nanonautX,\r\n    nanonautX + NANONAUT_WIDTH,\r\n    robotX,\r\n    robotX + ROBOT_WIDTH\r\n  );\r\n  var nanonautOverlapRobotOnYAxis = doesNanonautOverlapRobotAlongOneAxis(\r\n    nanonautY,\r\n    nanonautY + NANONAUT_HEIGHT,\r\n    robotY,\r\n    robotY + ROBOT_HEIGHT\r\n  );\r\n  return nanonautOverlapsRobotOnXAxis && nanonautOverlapRobotOnYAxis;\r\n}\r\n\r\n//DRAWING\r\nfunction draw() {\r\n  //if necessary, shake the screen\r\n  var shakenCameraX = cameraX;\r\n  var shakenCameraY = cameraY;\r\n  if (screenshake) {\r\n    shakenCameraX += (Math.random() - 0.5) * SCREENSHAKE_RADIUS;\r\n    shakenCameraY += (Math.random() - 0.5) * SCREENSHAKE_RADIUS;\r\n  }\r\n\r\n  //Draw sky\r\n  c.fillStyle = "LightSkyBlue";\r\n  c.fillRect(0, 0, CANVAS_WIDTH, GROUND_Y - 40);\r\n\r\n  //Draw background\r\n  var backgroundX = -(shakenCameraX % BACKGROUND_WIDTH);\r\n  c.drawImage(backgroundImage, backgroundX, -210);\r\n  c.drawImage(backgroundImage, backgroundX + BACKGROUND_WIDTH, -210);\r\n\r\n  //Draw earth\r\n  c.fillStyle = "ForestGreen";\r\n  c.fillRect(0, GROUND_Y - 40, CANVAS_WIDTH, CANVAS_HEIGHT - GROUND_Y + 40);\r\n\r\n  //DRAW BUSHES\r\n  for (var i = 0; i < bushData.length; i++) {\r\n    c.drawImage(\r\n      bushData[i].image,\r\n      bushData[i].x - shakenCameraX,\r\n      GROUND_Y - bushData[i].y - shakenCameraY\r\n    );\r\n  }\r\n\r\n  //Draw robots\r\n  for (var i = 0; i < robotData.length; i++) {\r\n    drawAnimatedSprite(\r\n      robotData[i].x - shakenCameraX,\r\n      robotData[i].y - shakenCameraY,\r\n      robotData[i].frameNr,\r\n      robotSpriteSheet\r\n    );\r\n  }\r\n\r\n  //Draw nanonaut\r\n  drawAnimatedSprite(\r\n    nanonautX - shakenCameraX,\r\n    nanonautY - shakenCameraY,\r\n    nanonautFrameNr,\r\n    nanonautSpriteSheet\r\n  );\r\n\r\n  //display the distance traveled by the nanonaut\r\n  var nanonautDistance = nanonautX / 100;\r\n  c.fillStyle = "black";\r\n  c.font = "48px sans-serif";\r\n  c.fillText(nanonautDistance.toFixed(0) + "m", 20, 40);\r\n\r\n  //Draw nanonaut health\r\n  c.fillStyle = "red";\r\n  c.fillRect(400, 10, (nanonautHealth / NANONAUT_MAX_HEALTH) * 380, 20);\r\n  c.strokeStyle = "red";\r\n  c.strokeRect(400, 10, 380, 20);\r\n\r\n  //If the game is over, display the end of the game\r\n  if (gameMode == GAME_OVER_GAME_MODE) {\r\n    c.font = "69px sans-serif";\r\n    c.fillStyle = "black";\r\n    c.fillText("GAME OVER", 120, 300);\r\n  }\r\n  //Draw a sprite animation\r\n  function drawAnimatedSprite(screenX, screenY, frameNr, spriteSheet) {\r\n    var spriteSheetRow = Math.floor(frameNr / spriteSheet.nrFramesPerRow);\r\n    var spriteSheetColumn = frameNr % spriteSheet.nrFramesPerRow;\r\n    var spriteSheetX = spriteSheetColumn * spriteSheet.spriteWidth;\r\n    var spriteSheetY = spriteSheetRow * spriteSheet.spriteHeight;\r\n\r\n    c.drawImage(\r\n      spriteSheet.image,\r\n      spriteSheetX,\r\n      spriteSheetY,\r\n      spriteSheet.spriteWidth,\r\n      spriteSheet.spriteHeight,\r\n      screenX,\r\n      screenY,\r\n      spriteSheet.spriteWidth,\r\n      spriteSheet.spriteHeight\r\n    );\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLHFCQUFxQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIscUJBQXFCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vL0NPTlNUQU5UXHJcbnZhciBDQU5WQVNfV0lEVEggPSA4MDA7XHJcbnZhciBDQU5WQVNfSEVJR0hUID0gNjAwO1xyXG52YXIgTkFOT05BVVRfV0lEVEggPSAxODE7XHJcbnZhciBOQU5PTkFVVF9IRUlHSFQgPSAyMjk7XHJcbnZhciBHUk9VTkRfWSA9IDU0MDtcclxudmFyIE5BTk9OQVVUX1lfQUNDRUxFUkFUSU9OID0gMTtcclxudmFyIFNQQUNFX0tFWUNPREUgPSAzMjtcclxudmFyIE5BTk9OQVVUX0pVTVBfU1BFRUQgPSAyMDtcclxudmFyIE5BTk9OQVVUX1hfU1BFRUQgPSA1O1xyXG52YXIgQkFDS0dST1VORF9XSURUSCA9IDEwMDA7XHJcbnZhciBOQU5PTkFVVF9OUl9BTklNQVRJT05fRlJBTUVTID0gNztcclxudmFyIE5BTk9OQVVUX0FOSU1BVElPTl9TUEVFRCA9IDM7XHJcbnZhciBST0JPVF9XSURUSCA9IDE0MTtcclxudmFyIFJPQk9UX0hFSUdIVCA9IDEzOTtcclxudmFyIFJPQk9UX05SX0FOSU1BVElPTl9GUkFNRVMgPSA5O1xyXG52YXIgUk9CT1RfQU5JTUFUSU9OX1NQRUVEID0gNTtcclxudmFyIFJPQk9UX1hfU1BFRUQgPSA0O1xyXG52YXIgTUlOX0RJU1RBTkNFX0JFVFdFRU5fUk9CT1RTID0gNDAwO1xyXG52YXIgTUFYX0RJU1RBTkNFX0JFVFdFRU5fUk9CT1RTID0gMTIwMDtcclxudmFyIE1BWF9BQ1RJVkVfUk9CT1RTID0gMztcclxudmFyIFNDUkVFTlNIQUtFX1JBRElVUyA9IDE2O1xyXG52YXIgTkFOT05BVVRfTUFYX0hFQUxUSCA9IDEwMDtcclxudmFyIFBMQVlfR0FNRV9NT0RFID0gMDtcclxudmFyIEdBTUVfT1ZFUl9HQU1FX01PREUgPSAxO1xyXG5cclxuLy9QUkVDT05GSUdVUkFUSU9OXHJcbnZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG52YXIgYyA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbmNhbnZhcy53aWR0aCA9IENBTlZBU19XSURUSDtcclxuY2FudmFzLmhlaWdodCA9IENBTlZBU19IRUlHSFQ7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuXHJcbnZhciBuYW5vbmF1dEltYWdlID0gbmV3IEltYWdlKCk7XHJcbm5hbm9uYXV0SW1hZ2Uuc3JjID0gXCJhc3NldHMvaW1nL2FuaW1hdGVkTmFub25hdXQucG5nXCI7XHJcblxyXG52YXIgYmFja2dyb3VuZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbmJhY2tncm91bmRJbWFnZS5zcmMgPSBcImFzc2V0cy9pbWcvYmFja2dyb3VuZC5wbmdcIjtcclxuXHJcbnZhciBidXNoMUltYWdlID0gbmV3IEltYWdlKCk7XHJcbmJ1c2gxSW1hZ2Uuc3JjID0gXCJhc3NldHMvaW1nL2J1c2gxLnBuZ1wiO1xyXG5cclxudmFyIGJ1c2gySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuYnVzaDJJbWFnZS5zcmMgPSBcImFzc2V0cy9pbWcvYnVzaDIucG5nXCI7XHJcblxyXG52YXIgcm9ib3RJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5yb2JvdEltYWdlLnNyYyA9IFwiYXNzZXRzL2ltZy9hbmltYXRlZFJvYm90LnBuZ1wiO1xyXG5cclxudmFyIGdhbWVNb2RlID0gUExBWV9HQU1FX01PREU7XHJcbnZhciBuYW5vbmF1dFggPSBDQU5WQVNfV0lEVEggLyAyO1xyXG52YXIgbmFub25hdXRZID0gR1JPVU5EX1kgLSBOQU5PTkFVVF9IRUlHSFQ7XHJcbnZhciBuYW5vbmF1dFlzcGVlZCA9IDA7XHJcbnZhciBuYW5vbmF1dElzSW5UaGVBaXIgPSBmYWxzZTtcclxudmFyIHNwYWNlS2V5SXNQcmVzc2VkID0gZmFsc2U7XHJcbnZhciBuYW5vbmF1dEhlYWx0aCA9IE5BTk9OQVVUX01BWF9IRUFMVEg7XHJcbnZhciBjYW1lcmFYID0gMDtcclxudmFyIGNhbWVyYVkgPSAwO1xyXG52YXIgc2NyZWVuc2hha2UgPSBmYWxzZTtcclxudmFyIG5hbm9uYXV0RnJhbWVOciA9IDA7XHJcbnZhciBnYW1lRnJhbWVDb3VudGVyID0gMDtcclxudmFyIGJ1c2hEYXRhID0gZ2VuZXJhdGVCdXNoZXMoKTtcclxudmFyIG5hbm9uYXV0U3ByaXRlU2hlZXQgPSB7XHJcbiAgbnJGcmFtZXNQZXJSb3c6IDUsXHJcbiAgc3ByaXRlV2lkdGg6IE5BTk9OQVVUX1dJRFRILFxyXG4gIHNwcml0ZUhlaWdodDogTkFOT05BVVRfSEVJR0hULFxyXG4gIGltYWdlOiBuYW5vbmF1dEltYWdlLFxyXG59O1xyXG5cclxuLy9Db2RlIHRvIGhhbmRsZSB0aGUgcm9ib3Qgc3ByaXRlIHNoZWV0IChuZXcgb2JqZWN0KVxyXG52YXIgcm9ib3RTcHJpdGVTaGVldCA9IHtcclxuICBuckZyYW1lc1BlclJvdzogMyxcclxuICBzcHJpdGVXaWR0aDogUk9CT1RfV0lEVEgsXHJcbiAgc3ByaXRlSGVpZ2h0OiBST0JPVF9IRUlHSFQsXHJcbiAgaW1hZ2U6IHJvYm90SW1hZ2UsXHJcbn07XHJcblxyXG52YXIgbmFub25hdXRDb2xsaXNpb25SZWN0YW5nbGUgPSB7XHJcbiAgeE9mZnNldDogNjAsXHJcbiAgeU9mZnNldDogMjAsXHJcbiAgd2lkdGg6IDUwLFxyXG4gIGhlaWdodDogMjAwLFxyXG59O1xyXG5cclxudmFyIHJvYm90Q29sbGlzaW9uUmVjdGFuZ2xlID0ge1xyXG4gIHhPZmZzZXQ6IDUwLFxyXG4gIHlPZmZzZXQ6IDIwLFxyXG4gIHdpZHRoOiA1MCxcclxuICBoZWlnaHQ6IDEwMCxcclxufTtcclxuXHJcbi8vU2hvcnQgbGlzdCBvZiByb2JvdHMgdG8gdGVzdFxyXG52YXIgcm9ib3REYXRhID0gW107XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBvbktleVVwKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzdGFydCk7XHJcblxyXG5mdW5jdGlvbiBzdGFydCgpIHtcclxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1haW5Mb29wKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdXNoZXMoKSB7XHJcbiAgdmFyIGdlbmVyYXRlZEJ1c2hEYXRhID0gW107XHJcbiAgdmFyIGJ1c2hYID0gMDtcclxuICB3aGlsZSAoYnVzaFggPCAyICogQ0FOVkFTX1dJRFRIKSB7XHJcbiAgICB2YXIgYnVzaEltYWdlO1xyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPj0gMC41KSB7XHJcbiAgICAgIGJ1c2hJbWFnZSA9IGJ1c2gxSW1hZ2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXNoSW1hZ2UgPSBidXNoMkltYWdlO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVkQnVzaERhdGEucHVzaCh7XHJcbiAgICAgIHg6IGJ1c2hYLFxyXG4gICAgICB5OiA4MCArIE1hdGgucmFuZG9tKCkgKiAyMCxcclxuICAgICAgaW1hZ2U6IGJ1c2hJbWFnZSxcclxuICAgIH0pO1xyXG4gICAgYnVzaFggKz0gMTUwICsgTWF0aC5yYW5kb20oKSAqIDIwMDtcclxuICB9XHJcbiAgcmV0dXJuIGdlbmVyYXRlZEJ1c2hEYXRhO1xyXG59XHJcblxyXG4vL01BSU4gTE9PUFxyXG5mdW5jdGlvbiBtYWluTG9vcCgpIHtcclxuICB1cGRhdGUoKTtcclxuICBkcmF3KCk7XHJcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XHJcbn1cclxuXHJcbi8vQ09OVFJPTFxyXG5mdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcclxuICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gU1BBQ0VfS0VZQ09ERSkge1xyXG4gICAgc3BhY2VLZXlJc1ByZXNzZWQgPSB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb25LZXlVcChldmVudCkge1xyXG4gIGlmIChldmVudC5rZXlDb2RlID09PSBTUEFDRV9LRVlDT0RFKSB7XHJcbiAgICBzcGFjZUtleUlzUHJlc3NlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy9VUERBVEVcclxuZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gIGlmIChnYW1lTW9kZSAhPSBQTEFZX0dBTUVfTU9ERSkgcmV0dXJuO1xyXG5cclxuICBnYW1lRnJhbWVDb3VudGVyID0gZ2FtZUZyYW1lQ291bnRlciArIDE7XHJcblxyXG4gIG5hbm9uYXV0WCA9IG5hbm9uYXV0WCArIE5BTk9OQVVUX1hfU1BFRUQ7XHJcbiAgaWYgKHNwYWNlS2V5SXNQcmVzc2VkICYmICFuYW5vbmF1dElzSW5UaGVBaXIpIHtcclxuICAgIG5hbm9uYXV0WXNwZWVkID0gLU5BTk9OQVVUX0pVTVBfU1BFRUQ7XHJcbiAgICBuYW5vbmF1dElzSW5UaGVBaXIgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy9VcGRhdGUgbmFub25hdXRcclxuICBuYW5vbmF1dFkgPSBuYW5vbmF1dFkgKyBuYW5vbmF1dFlzcGVlZDtcclxuICBuYW5vbmF1dFlzcGVlZCA9IG5hbm9uYXV0WXNwZWVkICsgTkFOT05BVVRfWV9BQ0NFTEVSQVRJT047XHJcbiAgaWYgKG5hbm9uYXV0WSA+IEdST1VORF9ZIC0gTkFOT05BVVRfSEVJR0hUKSB7XHJcbiAgICBuYW5vbmF1dFkgPSBHUk9VTkRfWSAtIE5BTk9OQVVUX0hFSUdIVDtcclxuICAgIG5hbm9uYXV0WXNwZWVkID0gMDtcclxuICAgIG5hbm9uYXV0SXNJblRoZUFpciA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy9VcGRhdGUgYW5pbWF0aW9uXHJcbiAgaWYgKGdhbWVGcmFtZUNvdW50ZXIgJSBOQU5PTkFVVF9BTklNQVRJT05fU1BFRUQgPT09IDApIHtcclxuICAgIG5hbm9uYXV0RnJhbWVOciA9IG5hbm9uYXV0RnJhbWVOciArIDE7XHJcbiAgICBpZiAobmFub25hdXRGcmFtZU5yID49IE5BTk9OQVVUX05SX0FOSU1BVElPTl9GUkFNRVMpIHtcclxuICAgICAgbmFub25hdXRGcmFtZU5yID0gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vVXBkYXRlIGNhbWVyYVxyXG4gIGNhbWVyYVggPSBuYW5vbmF1dFggLSAxNTA7XHJcblxyXG4gIC8vVXBkYXRlIGJ1c2hlc1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnVzaERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChidXNoRGF0YVtpXS54IC0gY2FtZXJhWCA8IC1DQU5WQVNfV0lEVEgpIHtcclxuICAgICAgYnVzaERhdGFbaV0ueCArPSAyICogQ0FOVkFTX1dJRFRIICsgMTUwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9VcGRhdGUgcm9ib3RzXHJcbiAgc2NyZWVuc2hha2UgPSBmYWxzZTtcclxuICB2YXIgbmFub25hdXRUb3VjaGVkQVJvYm90ID0gdXBkYXRlUm9ib3RzKCk7XHJcbiAgaWYgKG5hbm9uYXV0VG91Y2hlZEFSb2JvdCkge1xyXG4gICAgc2NyZWVuc2hha2UgPSB0cnVlO1xyXG4gICAgaWYgKG5hbm9uYXV0SGVhbHRoID4gMCkgbmFub25hdXRIZWFsdGggLT0gMTtcclxuICB9XHJcbiAgLy9jaGVjayBpZiB0aGUgZ2FtZSBlbmRcclxuICBpZiAobmFub25hdXRIZWFsdGggPD0gMCkge1xyXG4gICAgZ2FtZU1vZGUgPSBHQU1FX09WRVJfR0FNRV9NT0RFO1xyXG4gICAgc2NyZWVuc2hha2UgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVJvYm90cygpIHtcclxuICAvL01vdmluZyBhbmQgYW5pbWF0aW5nIHJvYm90cyBhbmQgZGV0ZWN0cyBhIGNvbGxpc2lvbiB3aXRoIGEgbmFub25hdXRcclxuICB2YXIgbmFub25hdXRUb3VjaGVkQVJvYm90ID0gZmFsc2U7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChcclxuICAgICAgZG9lc05hbm9uYXV0T3ZlcmxhcFJvYm90KFxyXG4gICAgICAgIG5hbm9uYXV0WCArIG5hbm9uYXV0Q29sbGlzaW9uUmVjdGFuZ2xlLnhPZmZzZXQsXHJcbiAgICAgICAgbmFub25hdXRZICsgbmFub25hdXRDb2xsaXNpb25SZWN0YW5nbGUueU9mZnNldCxcclxuICAgICAgICBuYW5vbmF1dENvbGxpc2lvblJlY3RhbmdsZS53aWR0aCxcclxuICAgICAgICBuYW5vbmF1dENvbGxpc2lvblJlY3RhbmdsZS5oZWlnaHQsXHJcbiAgICAgICAgcm9ib3REYXRhW2ldLnggKyByb2JvdENvbGxpc2lvblJlY3RhbmdsZS54T2Zmc2V0LFxyXG4gICAgICAgIHJvYm90RGF0YVtpXS55ICsgcm9ib3RDb2xsaXNpb25SZWN0YW5nbGUueU9mZnNldCxcclxuICAgICAgICByb2JvdENvbGxpc2lvblJlY3RhbmdsZS53aWR0aCxcclxuICAgICAgICByb2JvdENvbGxpc2lvblJlY3RhbmdsZS5oZWlnaHRcclxuICAgICAgKVxyXG4gICAgKSB7XHJcbiAgICAgIG5hbm9uYXV0VG91Y2hlZEFSb2JvdCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByb2JvdERhdGFbaV0ueCAtPSBST0JPVF9YX1NQRUVEO1xyXG4gICAgaWYgKGdhbWVGcmFtZUNvdW50ZXIgJSBST0JPVF9BTklNQVRJT05fU1BFRUQgPT09IDApIHtcclxuICAgICAgcm9ib3REYXRhW2ldLmZyYW1lTnIgPSByb2JvdERhdGFbaV0uZnJhbWVOciArIDE7XHJcbiAgICAgIGlmIChyb2JvdERhdGFbaV0uZnJhbWVOciA+PSBST0JPVF9OUl9BTklNQVRJT05fRlJBTUVTKSB7XHJcbiAgICAgICAgcm9ib3REYXRhW2ldLmZyYW1lTnIgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL1JlbW92ZSByb2JvdHMgdGhhdCBoYXZlIGdvbmUgb2ZmLXNjcmVlblxyXG4gIHZhciByb2JvdEluZGV4ID0gMDtcclxuICB3aGlsZSAocm9ib3RJbmRleCA8IHJvYm90RGF0YS5sZW5ndGgpIHtcclxuICAgIGlmIChyb2JvdERhdGFbcm9ib3RJbmRleF0ueCA8IGNhbWVyYVggLSBST0JPVF9XSURUSCkge1xyXG4gICAgICByb2JvdERhdGEuc3BsaWNlKHJvYm90SW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcm9ib3RJbmRleCArPSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHJvYm90RGF0YS5sZW5ndGggPCBNQVhfQUNUSVZFX1JPQk9UUykge1xyXG4gICAgdmFyIGxhc3RSb2JvdFggPSBDQU5WQVNfV0lEVEg7XHJcbiAgICBpZiAocm9ib3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgbGFzdFJvYm90WCA9IHJvYm90RGF0YVtyb2JvdERhdGEubGVuZ3RoIC0gMV0ueDtcclxuICAgIH1cclxuICAgIHZhciBuZXdSb2JvdFggPVxyXG4gICAgICBsYXN0Um9ib3RYICtcclxuICAgICAgTUlOX0RJU1RBTkNFX0JFVFdFRU5fUk9CT1RTICtcclxuICAgICAgTWF0aC5yYW5kb20oKSAqXHJcbiAgICAgICAgKE1BWF9ESVNUQU5DRV9CRVRXRUVOX1JPQk9UUyAtIE1JTl9ESVNUQU5DRV9CRVRXRUVOX1JPQk9UUyk7XHJcbiAgICByb2JvdERhdGEucHVzaCh7XHJcbiAgICAgIHg6IG5ld1JvYm90WCxcclxuICAgICAgeTogR1JPVU5EX1kgLSBST0JPVF9IRUlHSFQsXHJcbiAgICAgIGZyYW1lTnI6IDAsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG5hbm9uYXV0VG91Y2hlZEFSb2JvdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZG9lc05hbm9uYXV0T3ZlcmxhcFJvYm90QWxvbmdPbmVBeGlzKFxyXG4gIG5hbm9uYXV0TmVhclgsXHJcbiAgbmFub25hdXRGYXJYLFxyXG4gIHJvYm90TmVhclgsXHJcbiAgcm9ib3RGYXJYXHJcbikge1xyXG4gIHZhciBuYW5vbmF1dE92ZXJsYXBzTmVhclJvYm90RWRnZSA9XHJcbiAgICBuYW5vbmF1dEZhclggPj0gcm9ib3ROZWFyWCAmJiBuYW5vbmF1dEZhclggPD0gcm9ib3RGYXJYO1xyXG4gIHZhciBuYW5vbmF1dE92ZXJsYXBzRmFyUm9ib3RFZGdlID1cclxuICAgIG5hbm9uYXV0TmVhclggPj0gcm9ib3ROZWFyWCAmJiBuYW5vbmF1dE5lYXJYIDw9IHJvYm90RmFyWDtcclxuICB2YXIgbmFub25hdXRPdmVybGFwc0VudGlyZVJvYm90ID1cclxuICAgIG5hbm9uYXV0TmVhclggPD0gcm9ib3ROZWFyWCAmJiBuYW5vbmF1dEZhclggPj0gcm9ib3RGYXJYO1xyXG4gIHJldHVybiAoXHJcbiAgICBuYW5vbmF1dE92ZXJsYXBzTmVhclJvYm90RWRnZSB8fFxyXG4gICAgbmFub25hdXRPdmVybGFwc0ZhclJvYm90RWRnZSB8fFxyXG4gICAgbmFub25hdXRPdmVybGFwc0VudGlyZVJvYm90XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZG9lc05hbm9uYXV0T3ZlcmxhcFJvYm90KFxyXG4gIG5hbm9uYXV0WCxcclxuICBuYW5vbmF1dFksXHJcbiAgTkFOT05BVVRfV0lEVEgsXHJcbiAgTkFOT05BVVRfSEVJR0hULFxyXG4gIHJvYm90WCxcclxuICByb2JvdFksXHJcbiAgUk9CT1RfV0lEVEgsXHJcbiAgUk9CT1RfSEVJR0hUXHJcbikge1xyXG4gIHZhciBuYW5vbmF1dE92ZXJsYXBzUm9ib3RPblhBeGlzID0gZG9lc05hbm9uYXV0T3ZlcmxhcFJvYm90QWxvbmdPbmVBeGlzKFxyXG4gICAgbmFub25hdXRYLFxyXG4gICAgbmFub25hdXRYICsgTkFOT05BVVRfV0lEVEgsXHJcbiAgICByb2JvdFgsXHJcbiAgICByb2JvdFggKyBST0JPVF9XSURUSFxyXG4gICk7XHJcbiAgdmFyIG5hbm9uYXV0T3ZlcmxhcFJvYm90T25ZQXhpcyA9IGRvZXNOYW5vbmF1dE92ZXJsYXBSb2JvdEFsb25nT25lQXhpcyhcclxuICAgIG5hbm9uYXV0WSxcclxuICAgIG5hbm9uYXV0WSArIE5BTk9OQVVUX0hFSUdIVCxcclxuICAgIHJvYm90WSxcclxuICAgIHJvYm90WSArIFJPQk9UX0hFSUdIVFxyXG4gICk7XHJcbiAgcmV0dXJuIG5hbm9uYXV0T3ZlcmxhcHNSb2JvdE9uWEF4aXMgJiYgbmFub25hdXRPdmVybGFwUm9ib3RPbllBeGlzO1xyXG59XHJcblxyXG4vL0RSQVdJTkdcclxuZnVuY3Rpb24gZHJhdygpIHtcclxuICAvL2lmIG5lY2Vzc2FyeSwgc2hha2UgdGhlIHNjcmVlblxyXG4gIHZhciBzaGFrZW5DYW1lcmFYID0gY2FtZXJhWDtcclxuICB2YXIgc2hha2VuQ2FtZXJhWSA9IGNhbWVyYVk7XHJcbiAgaWYgKHNjcmVlbnNoYWtlKSB7XHJcbiAgICBzaGFrZW5DYW1lcmFYICs9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIFNDUkVFTlNIQUtFX1JBRElVUztcclxuICAgIHNoYWtlbkNhbWVyYVkgKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogU0NSRUVOU0hBS0VfUkFESVVTO1xyXG4gIH1cclxuXHJcbiAgLy9EcmF3IHNreVxyXG4gIGMuZmlsbFN0eWxlID0gXCJMaWdodFNreUJsdWVcIjtcclxuICBjLmZpbGxSZWN0KDAsIDAsIENBTlZBU19XSURUSCwgR1JPVU5EX1kgLSA0MCk7XHJcblxyXG4gIC8vRHJhdyBiYWNrZ3JvdW5kXHJcbiAgdmFyIGJhY2tncm91bmRYID0gLShzaGFrZW5DYW1lcmFYICUgQkFDS0dST1VORF9XSURUSCk7XHJcbiAgYy5kcmF3SW1hZ2UoYmFja2dyb3VuZEltYWdlLCBiYWNrZ3JvdW5kWCwgLTIxMCk7XHJcbiAgYy5kcmF3SW1hZ2UoYmFja2dyb3VuZEltYWdlLCBiYWNrZ3JvdW5kWCArIEJBQ0tHUk9VTkRfV0lEVEgsIC0yMTApO1xyXG5cclxuICAvL0RyYXcgZWFydGhcclxuICBjLmZpbGxTdHlsZSA9IFwiRm9yZXN0R3JlZW5cIjtcclxuICBjLmZpbGxSZWN0KDAsIEdST1VORF9ZIC0gNDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVCAtIEdST1VORF9ZICsgNDApO1xyXG5cclxuICAvL0RSQVcgQlVTSEVTXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXNoRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgYy5kcmF3SW1hZ2UoXHJcbiAgICAgIGJ1c2hEYXRhW2ldLmltYWdlLFxyXG4gICAgICBidXNoRGF0YVtpXS54IC0gc2hha2VuQ2FtZXJhWCxcclxuICAgICAgR1JPVU5EX1kgLSBidXNoRGF0YVtpXS55IC0gc2hha2VuQ2FtZXJhWVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vRHJhdyByb2JvdHNcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJvYm90RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgZHJhd0FuaW1hdGVkU3ByaXRlKFxyXG4gICAgICByb2JvdERhdGFbaV0ueCAtIHNoYWtlbkNhbWVyYVgsXHJcbiAgICAgIHJvYm90RGF0YVtpXS55IC0gc2hha2VuQ2FtZXJhWSxcclxuICAgICAgcm9ib3REYXRhW2ldLmZyYW1lTnIsXHJcbiAgICAgIHJvYm90U3ByaXRlU2hlZXRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvL0RyYXcgbmFub25hdXRcclxuICBkcmF3QW5pbWF0ZWRTcHJpdGUoXHJcbiAgICBuYW5vbmF1dFggLSBzaGFrZW5DYW1lcmFYLFxyXG4gICAgbmFub25hdXRZIC0gc2hha2VuQ2FtZXJhWSxcclxuICAgIG5hbm9uYXV0RnJhbWVOcixcclxuICAgIG5hbm9uYXV0U3ByaXRlU2hlZXRcclxuICApO1xyXG5cclxuICAvL2Rpc3BsYXkgdGhlIGRpc3RhbmNlIHRyYXZlbGVkIGJ5IHRoZSBuYW5vbmF1dFxyXG4gIHZhciBuYW5vbmF1dERpc3RhbmNlID0gbmFub25hdXRYIC8gMTAwO1xyXG4gIGMuZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gIGMuZm9udCA9IFwiNDhweCBzYW5zLXNlcmlmXCI7XHJcbiAgYy5maWxsVGV4dChuYW5vbmF1dERpc3RhbmNlLnRvRml4ZWQoMCkgKyBcIm1cIiwgMjAsIDQwKTtcclxuXHJcbiAgLy9EcmF3IG5hbm9uYXV0IGhlYWx0aFxyXG4gIGMuZmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICBjLmZpbGxSZWN0KDQwMCwgMTAsIChuYW5vbmF1dEhlYWx0aCAvIE5BTk9OQVVUX01BWF9IRUFMVEgpICogMzgwLCAyMCk7XHJcbiAgYy5zdHJva2VTdHlsZSA9IFwicmVkXCI7XHJcbiAgYy5zdHJva2VSZWN0KDQwMCwgMTAsIDM4MCwgMjApO1xyXG5cclxuICAvL0lmIHRoZSBnYW1lIGlzIG92ZXIsIGRpc3BsYXkgdGhlIGVuZCBvZiB0aGUgZ2FtZVxyXG4gIGlmIChnYW1lTW9kZSA9PSBHQU1FX09WRVJfR0FNRV9NT0RFKSB7XHJcbiAgICBjLmZvbnQgPSBcIjY5cHggc2Fucy1zZXJpZlwiO1xyXG4gICAgYy5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICBjLmZpbGxUZXh0KFwiR0FNRSBPVkVSXCIsIDEyMCwgMzAwKTtcclxuICB9XHJcbiAgLy9EcmF3IGEgc3ByaXRlIGFuaW1hdGlvblxyXG4gIGZ1bmN0aW9uIGRyYXdBbmltYXRlZFNwcml0ZShzY3JlZW5YLCBzY3JlZW5ZLCBmcmFtZU5yLCBzcHJpdGVTaGVldCkge1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0Um93ID0gTWF0aC5mbG9vcihmcmFtZU5yIC8gc3ByaXRlU2hlZXQubnJGcmFtZXNQZXJSb3cpO1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0Q29sdW1uID0gZnJhbWVOciAlIHNwcml0ZVNoZWV0Lm5yRnJhbWVzUGVyUm93O1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0WCA9IHNwcml0ZVNoZWV0Q29sdW1uICogc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGg7XHJcbiAgICB2YXIgc3ByaXRlU2hlZXRZID0gc3ByaXRlU2hlZXRSb3cgKiBzcHJpdGVTaGVldC5zcHJpdGVIZWlnaHQ7XHJcblxyXG4gICAgYy5kcmF3SW1hZ2UoXHJcbiAgICAgIHNwcml0ZVNoZWV0LmltYWdlLFxyXG4gICAgICBzcHJpdGVTaGVldFgsXHJcbiAgICAgIHNwcml0ZVNoZWV0WSxcclxuICAgICAgc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGgsXHJcbiAgICAgIHNwcml0ZVNoZWV0LnNwcml0ZUhlaWdodCxcclxuICAgICAgc2NyZWVuWCxcclxuICAgICAgc2NyZWVuWSxcclxuICAgICAgc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGgsXHJcbiAgICAgIHNwcml0ZVNoZWV0LnNwcml0ZUhlaWdodFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);