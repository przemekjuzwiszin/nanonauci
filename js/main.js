!function(n){var r={};function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return n[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=n,c.c=r,c.d=function(n,r,t){c.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,r){if(1&r&&(n=c(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var a in n)c.d(t,a,function(r){return n[r]}.bind(null,a));return t},c.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(r,"a",r),r},c.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},c.p="",c(c.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\r\n\r\n// service worker registration - remove if you\'re not going to use it\r\n\r\nif ("serviceWorker" in navigator) {\r\n  window.addEventListener("load", function () {\r\n    navigator.serviceWorker.register("serviceworker.js").then(\r\n      function (registration) {\r\n        // Registration was successful\r\n        console.log(\r\n          "ServiceWorker registration successful with scope: ",\r\n          registration.scope\r\n        );\r\n      },\r\n      function (err) {\r\n        // registration failed :(\r\n        console.log("ServiceWorker registration failed: ", err);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\n// place your code below\r\n\r\n//CONSTANT\r\nvar CANVAS_WIDTH = 800;\r\nvar CANVAS_HEIGHT = 600;\r\nvar NANONAUT_WIDTH = 181;\r\nvar NANONAUT_HEIGHT = 229;\r\nvar GROUND_Y = 540;\r\nvar NANONAUT_Y_ACCELERATION = 1;\r\nvar SPACE_KEYCODE = 32;\r\nvar NANONAUT_JUMP_SPEED = 20;\r\nvar NANONAUT_X_SPEED = 5;\r\nvar BACKGROUND_WIDTH = 1000;\r\nvar NANONAUT_NR_ANIMATION_FRAMES = 7;\r\nvar NANONAUT_ANIMATION_SPEED = 3;\r\nvar ROBOT_WIDTH = 141;\r\nvar ROBOT_HEIGHT = 139;\r\nvar ROBOT_NR_ANIMATION_FRAMES = 9;\r\nvar ROBOT_ANIMATION_SPEED = 5;\r\nvar ROBOT_X_SPEED = 4;\r\n\r\n//PRECONFIGURATION\r\nvar canvas = document.createElement("canvas");\r\nvar c = canvas.getContext("2d");\r\ncanvas.width = CANVAS_WIDTH;\r\ncanvas.height = CANVAS_HEIGHT;\r\ndocument.body.appendChild(canvas);\r\n\r\nvar nanonautImage = new Image();\r\nnanonautImage.src = "assets/img/animatedNanonaut.png";\r\n\r\nvar backgroundImage = new Image();\r\nbackgroundImage.src = "assets/img/background.png";\r\n\r\nvar bush1Image = new Image();\r\nbush1Image.src = "assets/img/bush1.png";\r\n\r\nvar bush2Image = new Image();\r\nbush2Image.src = "assets/img/bush2.png";\r\n\r\nvar robotImage = new Image();\r\nrobotImage.src = "assets/img/animatedRobot.png";\r\n\r\nvar nanonautX = CANVAS_WIDTH / 2;\r\nvar nanonautY = GROUND_Y - NANONAUT_HEIGHT;\r\nvar nanonautYspeed = 0;\r\nvar nanonautIsInTheAir = false;\r\nvar spaceKeyIsPressed = false;\r\nvar cameraX = 0;\r\nvar cameraY = 0;\r\nvar nanonautFrameNr = 0;\r\nvar gameFrameCounter = 0;\r\nvar bushData = generateBushes();\r\nvar nanonautSpriteSheet = {\r\n  nrFramesPerRow: 5,\r\n  spriteWidth: NANONAUT_WIDTH,\r\n  spriteHeight: NANONAUT_HEIGHT,\r\n  image: nanonautImage,\r\n};\r\n\r\n//Code to handle the robot sprite sheet (new object)\r\nvar robotSpriteSheet = {\r\n  nrFramesPerRow: 3,\r\n  spriteWidth: ROBOT_WIDTH,\r\n  spriteHeight: ROBOT_HEIGHT,\r\n  image: robotImage,\r\n};\r\n\r\n//Short list of robots to test\r\nvar robotData = [\r\n  {\r\n    x: 400,\r\n    y: GROUND_Y - ROBOT_HEIGHT,\r\n    frameNr: 0,\r\n  },\r\n];\r\n\r\nwindow.addEventListener("keydown", onKeyDown);\r\nwindow.addEventListener("keyup", onKeyUp);\r\n\r\nwindow.addEventListener("load", start);\r\n\r\nfunction start() {\r\n  window.requestAnimationFrame(mainLoop);\r\n}\r\n\r\nfunction generateBushes() {\r\n  var generatedBushData = [];\r\n  var bushX = 0;\r\n  while (bushX < 2 * CANVAS_WIDTH) {\r\n    var bushImage;\r\n    if (Math.random() >= 0.5) {\r\n      bushImage = bush1Image;\r\n    } else {\r\n      bushImage = bush2Image;\r\n    }\r\n    generatedBushData.push({\r\n      x: bushX,\r\n      y: 80 + Math.random() * 20,\r\n      image: bushImage,\r\n    });\r\n    bushX += 150 + Math.random() * 200;\r\n  }\r\n  return generatedBushData;\r\n}\r\n\r\n//MAIN LOOP\r\nfunction mainLoop() {\r\n  update();\r\n  draw();\r\n  window.requestAnimationFrame(mainLoop);\r\n}\r\n\r\n//CONTROL\r\nfunction onKeyDown(event) {\r\n  if (event.keyCode === SPACE_KEYCODE) {\r\n    spaceKeyIsPressed = true;\r\n  }\r\n}\r\n\r\nfunction onKeyUp(event) {\r\n  if (event.keyCode === SPACE_KEYCODE) {\r\n    spaceKeyIsPressed = false;\r\n  }\r\n}\r\n\r\n//UPDATE\r\nfunction update() {\r\n  gameFrameCounter = gameFrameCounter + 1;\r\n\r\n  nanonautX = nanonautX + NANONAUT_X_SPEED;\r\n  if (spaceKeyIsPressed && !nanonautIsInTheAir) {\r\n    nanonautYspeed = -NANONAUT_JUMP_SPEED;\r\n    nanonautIsInTheAir = true;\r\n  }\r\n\r\n  //Update nanonaut\r\n  nanonautY = nanonautY + nanonautYspeed;\r\n  nanonautYspeed = nanonautYspeed + NANONAUT_Y_ACCELERATION;\r\n  if (nanonautY > GROUND_Y - NANONAUT_HEIGHT) {\r\n    nanonautY = GROUND_Y - NANONAUT_HEIGHT;\r\n    nanonautYspeed = 0;\r\n    nanonautIsInTheAir = false;\r\n  }\r\n\r\n  //Update animation\r\n  if (gameFrameCounter % NANONAUT_ANIMATION_SPEED === 0) {\r\n    nanonautFrameNr = nanonautFrameNr + 1;\r\n    if (nanonautFrameNr >= NANONAUT_NR_ANIMATION_FRAMES) {\r\n      nanonautFrameNr = 0;\r\n    }\r\n  }\r\n\r\n  //Update camera\r\n  cameraX = nanonautX - 150;\r\n\r\n  //Update bushes\r\n  for (var i = 0; i < bushData.length; i++) {\r\n    if (bushData[i].x - cameraX < -CANVAS_WIDTH) {\r\n      bushData[i].x += 2 * CANVAS_WIDTH + 150;\r\n    }\r\n  }\r\n\r\n  //Update robots\r\n  updateRobots();\r\n}\r\n\r\nfunction updateRobots() {\r\n  //Moving and animating robots\r\n  for (var i = 0; i < robotData.length; i++) {\r\n    robotData[i].x -= ROBOT_X_SPEED;\r\n    if (gameFrameCounter % ROBOT_ANIMATION_SPEED === 0) {\r\n      robotData[i].frameNr = robotData[i].frameNr + 1;\r\n      if (robotData[i].frameNr >= ROBOT_NR_ANIMATION_FRAMES) {\r\n        robotData[i].frameNr = 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//DRAWING\r\nfunction draw() {\r\n  //Draw sky\r\n  c.fillStyle = "LightSkyBlue";\r\n  c.fillRect(0, 0, CANVAS_WIDTH, GROUND_Y - 40);\r\n\r\n  //Draw background\r\n  var backgroundX = -(cameraX % BACKGROUND_WIDTH);\r\n  c.drawImage(backgroundImage, backgroundX, -210);\r\n  c.drawImage(backgroundImage, backgroundX + BACKGROUND_WIDTH, -210);\r\n\r\n  //Draw earth\r\n  c.fillStyle = "ForestGreen";\r\n  c.fillRect(0, GROUND_Y - 40, CANVAS_WIDTH, CANVAS_HEIGHT - GROUND_Y + 40);\r\n\r\n  //DRAW BUSHES\r\n  for (var i = 0; i < bushData.length; i++) {\r\n    c.drawImage(\r\n      bushData[i].image,\r\n      bushData[i].x - cameraX,\r\n      GROUND_Y - bushData[i].y - cameraY\r\n    );\r\n  }\r\n\r\n  //Draw robots\r\n  for (var i = 0; i < robotData.length; i++) {\r\n    drawAnimatedSprite(\r\n      robotData[i].x - cameraX,\r\n      robotData[i].y - cameraY,\r\n      robotData[i].frameNr,\r\n      robotSpriteSheet\r\n    );\r\n  }\r\n\r\n  //Draw nanonaut\r\n  drawAnimatedSprite(\r\n    nanonautX - cameraX,\r\n    nanonautY - cameraY,\r\n    nanonautFrameNr,\r\n    nanonautSpriteSheet\r\n  );\r\n\r\n  //Draw a sprite animation\r\n  function drawAnimatedSprite(screenX, screenY, frameNr, spriteSheet) {\r\n    var spriteSheetRow = Math.floor(frameNr / spriteSheet.nrFramesPerRow);\r\n    var spriteSheetColumn = frameNr % spriteSheet.nrFramesPerRow;\r\n    var spriteSheetX = spriteSheetColumn * spriteSheet.spriteWidth;\r\n    var spriteSheetY = spriteSheetRow * spriteSheet.spriteHeight;\r\n\r\n    c.drawImage(\r\n      spriteSheet.image,\r\n      spriteSheetX,\r\n      spriteSheetY,\r\n      spriteSheet.spriteWidth,\r\n      spriteSheet.spriteHeight,\r\n      screenX,\r\n      screenY,\r\n      spriteSheet.spriteWidth,\r\n      spriteSheet.spriteHeight\r\n    );\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixxQkFBcUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixxQkFBcUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLy8gc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIC0gcmVtb3ZlIGlmIHlvdSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0XHJcblxyXG5pZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKFwic2VydmljZXdvcmtlci5qc1wiKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgLy8gUmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsXHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBcIlNlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwgd2l0aCBzY29wZTogXCIsXHJcbiAgICAgICAgICByZWdpc3RyYXRpb24uc2NvcGVcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgLy8gcmVnaXN0cmF0aW9uIGZhaWxlZCA6KFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOiBcIiwgZXJyKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8gcGxhY2UgeW91ciBjb2RlIGJlbG93XHJcblxyXG4vL0NPTlNUQU5UXHJcbnZhciBDQU5WQVNfV0lEVEggPSA4MDA7XHJcbnZhciBDQU5WQVNfSEVJR0hUID0gNjAwO1xyXG52YXIgTkFOT05BVVRfV0lEVEggPSAxODE7XHJcbnZhciBOQU5PTkFVVF9IRUlHSFQgPSAyMjk7XHJcbnZhciBHUk9VTkRfWSA9IDU0MDtcclxudmFyIE5BTk9OQVVUX1lfQUNDRUxFUkFUSU9OID0gMTtcclxudmFyIFNQQUNFX0tFWUNPREUgPSAzMjtcclxudmFyIE5BTk9OQVVUX0pVTVBfU1BFRUQgPSAyMDtcclxudmFyIE5BTk9OQVVUX1hfU1BFRUQgPSA1O1xyXG52YXIgQkFDS0dST1VORF9XSURUSCA9IDEwMDA7XHJcbnZhciBOQU5PTkFVVF9OUl9BTklNQVRJT05fRlJBTUVTID0gNztcclxudmFyIE5BTk9OQVVUX0FOSU1BVElPTl9TUEVFRCA9IDM7XHJcbnZhciBST0JPVF9XSURUSCA9IDE0MTtcclxudmFyIFJPQk9UX0hFSUdIVCA9IDEzOTtcclxudmFyIFJPQk9UX05SX0FOSU1BVElPTl9GUkFNRVMgPSA5O1xyXG52YXIgUk9CT1RfQU5JTUFUSU9OX1NQRUVEID0gNTtcclxudmFyIFJPQk9UX1hfU1BFRUQgPSA0O1xyXG5cclxuLy9QUkVDT05GSUdVUkFUSU9OXHJcbnZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG52YXIgYyA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbmNhbnZhcy53aWR0aCA9IENBTlZBU19XSURUSDtcclxuY2FudmFzLmhlaWdodCA9IENBTlZBU19IRUlHSFQ7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuXHJcbnZhciBuYW5vbmF1dEltYWdlID0gbmV3IEltYWdlKCk7XHJcbm5hbm9uYXV0SW1hZ2Uuc3JjID0gXCJhc3NldHMvaW1nL2FuaW1hdGVkTmFub25hdXQucG5nXCI7XHJcblxyXG52YXIgYmFja2dyb3VuZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbmJhY2tncm91bmRJbWFnZS5zcmMgPSBcImFzc2V0cy9pbWcvYmFja2dyb3VuZC5wbmdcIjtcclxuXHJcbnZhciBidXNoMUltYWdlID0gbmV3IEltYWdlKCk7XHJcbmJ1c2gxSW1hZ2Uuc3JjID0gXCJhc3NldHMvaW1nL2J1c2gxLnBuZ1wiO1xyXG5cclxudmFyIGJ1c2gySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuYnVzaDJJbWFnZS5zcmMgPSBcImFzc2V0cy9pbWcvYnVzaDIucG5nXCI7XHJcblxyXG52YXIgcm9ib3RJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5yb2JvdEltYWdlLnNyYyA9IFwiYXNzZXRzL2ltZy9hbmltYXRlZFJvYm90LnBuZ1wiO1xyXG5cclxudmFyIG5hbm9uYXV0WCA9IENBTlZBU19XSURUSCAvIDI7XHJcbnZhciBuYW5vbmF1dFkgPSBHUk9VTkRfWSAtIE5BTk9OQVVUX0hFSUdIVDtcclxudmFyIG5hbm9uYXV0WXNwZWVkID0gMDtcclxudmFyIG5hbm9uYXV0SXNJblRoZUFpciA9IGZhbHNlO1xyXG52YXIgc3BhY2VLZXlJc1ByZXNzZWQgPSBmYWxzZTtcclxudmFyIGNhbWVyYVggPSAwO1xyXG52YXIgY2FtZXJhWSA9IDA7XHJcbnZhciBuYW5vbmF1dEZyYW1lTnIgPSAwO1xyXG52YXIgZ2FtZUZyYW1lQ291bnRlciA9IDA7XHJcbnZhciBidXNoRGF0YSA9IGdlbmVyYXRlQnVzaGVzKCk7XHJcbnZhciBuYW5vbmF1dFNwcml0ZVNoZWV0ID0ge1xyXG4gIG5yRnJhbWVzUGVyUm93OiA1LFxyXG4gIHNwcml0ZVdpZHRoOiBOQU5PTkFVVF9XSURUSCxcclxuICBzcHJpdGVIZWlnaHQ6IE5BTk9OQVVUX0hFSUdIVCxcclxuICBpbWFnZTogbmFub25hdXRJbWFnZSxcclxufTtcclxuXHJcbi8vQ29kZSB0byBoYW5kbGUgdGhlIHJvYm90IHNwcml0ZSBzaGVldCAobmV3IG9iamVjdClcclxudmFyIHJvYm90U3ByaXRlU2hlZXQgPSB7XHJcbiAgbnJGcmFtZXNQZXJSb3c6IDMsXHJcbiAgc3ByaXRlV2lkdGg6IFJPQk9UX1dJRFRILFxyXG4gIHNwcml0ZUhlaWdodDogUk9CT1RfSEVJR0hULFxyXG4gIGltYWdlOiByb2JvdEltYWdlLFxyXG59O1xyXG5cclxuLy9TaG9ydCBsaXN0IG9mIHJvYm90cyB0byB0ZXN0XHJcbnZhciByb2JvdERhdGEgPSBbXHJcbiAge1xyXG4gICAgeDogNDAwLFxyXG4gICAgeTogR1JPVU5EX1kgLSBST0JPVF9IRUlHSFQsXHJcbiAgICBmcmFtZU5yOiAwLFxyXG4gIH0sXHJcbl07XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBvbktleVVwKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzdGFydCk7XHJcblxyXG5mdW5jdGlvbiBzdGFydCgpIHtcclxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1haW5Mb29wKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdXNoZXMoKSB7XHJcbiAgdmFyIGdlbmVyYXRlZEJ1c2hEYXRhID0gW107XHJcbiAgdmFyIGJ1c2hYID0gMDtcclxuICB3aGlsZSAoYnVzaFggPCAyICogQ0FOVkFTX1dJRFRIKSB7XHJcbiAgICB2YXIgYnVzaEltYWdlO1xyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPj0gMC41KSB7XHJcbiAgICAgIGJ1c2hJbWFnZSA9IGJ1c2gxSW1hZ2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXNoSW1hZ2UgPSBidXNoMkltYWdlO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVkQnVzaERhdGEucHVzaCh7XHJcbiAgICAgIHg6IGJ1c2hYLFxyXG4gICAgICB5OiA4MCArIE1hdGgucmFuZG9tKCkgKiAyMCxcclxuICAgICAgaW1hZ2U6IGJ1c2hJbWFnZSxcclxuICAgIH0pO1xyXG4gICAgYnVzaFggKz0gMTUwICsgTWF0aC5yYW5kb20oKSAqIDIwMDtcclxuICB9XHJcbiAgcmV0dXJuIGdlbmVyYXRlZEJ1c2hEYXRhO1xyXG59XHJcblxyXG4vL01BSU4gTE9PUFxyXG5mdW5jdGlvbiBtYWluTG9vcCgpIHtcclxuICB1cGRhdGUoKTtcclxuICBkcmF3KCk7XHJcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XHJcbn1cclxuXHJcbi8vQ09OVFJPTFxyXG5mdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcclxuICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gU1BBQ0VfS0VZQ09ERSkge1xyXG4gICAgc3BhY2VLZXlJc1ByZXNzZWQgPSB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb25LZXlVcChldmVudCkge1xyXG4gIGlmIChldmVudC5rZXlDb2RlID09PSBTUEFDRV9LRVlDT0RFKSB7XHJcbiAgICBzcGFjZUtleUlzUHJlc3NlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy9VUERBVEVcclxuZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gIGdhbWVGcmFtZUNvdW50ZXIgPSBnYW1lRnJhbWVDb3VudGVyICsgMTtcclxuXHJcbiAgbmFub25hdXRYID0gbmFub25hdXRYICsgTkFOT05BVVRfWF9TUEVFRDtcclxuICBpZiAoc3BhY2VLZXlJc1ByZXNzZWQgJiYgIW5hbm9uYXV0SXNJblRoZUFpcikge1xyXG4gICAgbmFub25hdXRZc3BlZWQgPSAtTkFOT05BVVRfSlVNUF9TUEVFRDtcclxuICAgIG5hbm9uYXV0SXNJblRoZUFpciA9IHRydWU7XHJcbiAgfVxyXG5cclxuICAvL1VwZGF0ZSBuYW5vbmF1dFxyXG4gIG5hbm9uYXV0WSA9IG5hbm9uYXV0WSArIG5hbm9uYXV0WXNwZWVkO1xyXG4gIG5hbm9uYXV0WXNwZWVkID0gbmFub25hdXRZc3BlZWQgKyBOQU5PTkFVVF9ZX0FDQ0VMRVJBVElPTjtcclxuICBpZiAobmFub25hdXRZID4gR1JPVU5EX1kgLSBOQU5PTkFVVF9IRUlHSFQpIHtcclxuICAgIG5hbm9uYXV0WSA9IEdST1VORF9ZIC0gTkFOT05BVVRfSEVJR0hUO1xyXG4gICAgbmFub25hdXRZc3BlZWQgPSAwO1xyXG4gICAgbmFub25hdXRJc0luVGhlQWlyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvL1VwZGF0ZSBhbmltYXRpb25cclxuICBpZiAoZ2FtZUZyYW1lQ291bnRlciAlIE5BTk9OQVVUX0FOSU1BVElPTl9TUEVFRCA9PT0gMCkge1xyXG4gICAgbmFub25hdXRGcmFtZU5yID0gbmFub25hdXRGcmFtZU5yICsgMTtcclxuICAgIGlmIChuYW5vbmF1dEZyYW1lTnIgPj0gTkFOT05BVVRfTlJfQU5JTUFUSU9OX0ZSQU1FUykge1xyXG4gICAgICBuYW5vbmF1dEZyYW1lTnIgPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9VcGRhdGUgY2FtZXJhXHJcbiAgY2FtZXJhWCA9IG5hbm9uYXV0WCAtIDE1MDtcclxuXHJcbiAgLy9VcGRhdGUgYnVzaGVzXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXNoRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGJ1c2hEYXRhW2ldLnggLSBjYW1lcmFYIDwgLUNBTlZBU19XSURUSCkge1xyXG4gICAgICBidXNoRGF0YVtpXS54ICs9IDIgKiBDQU5WQVNfV0lEVEggKyAxNTA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL1VwZGF0ZSByb2JvdHNcclxuICB1cGRhdGVSb2JvdHMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUm9ib3RzKCkge1xyXG4gIC8vTW92aW5nIGFuZCBhbmltYXRpbmcgcm9ib3RzXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIHJvYm90RGF0YVtpXS54IC09IFJPQk9UX1hfU1BFRUQ7XHJcbiAgICBpZiAoZ2FtZUZyYW1lQ291bnRlciAlIFJPQk9UX0FOSU1BVElPTl9TUEVFRCA9PT0gMCkge1xyXG4gICAgICByb2JvdERhdGFbaV0uZnJhbWVOciA9IHJvYm90RGF0YVtpXS5mcmFtZU5yICsgMTtcclxuICAgICAgaWYgKHJvYm90RGF0YVtpXS5mcmFtZU5yID49IFJPQk9UX05SX0FOSU1BVElPTl9GUkFNRVMpIHtcclxuICAgICAgICByb2JvdERhdGFbaV0uZnJhbWVOciA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vRFJBV0lOR1xyXG5mdW5jdGlvbiBkcmF3KCkge1xyXG4gIC8vRHJhdyBza3lcclxuICBjLmZpbGxTdHlsZSA9IFwiTGlnaHRTa3lCbHVlXCI7XHJcbiAgYy5maWxsUmVjdCgwLCAwLCBDQU5WQVNfV0lEVEgsIEdST1VORF9ZIC0gNDApO1xyXG5cclxuICAvL0RyYXcgYmFja2dyb3VuZFxyXG4gIHZhciBiYWNrZ3JvdW5kWCA9IC0oY2FtZXJhWCAlIEJBQ0tHUk9VTkRfV0lEVEgpO1xyXG4gIGMuZHJhd0ltYWdlKGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZFgsIC0yMTApO1xyXG4gIGMuZHJhd0ltYWdlKGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZFggKyBCQUNLR1JPVU5EX1dJRFRILCAtMjEwKTtcclxuXHJcbiAgLy9EcmF3IGVhcnRoXHJcbiAgYy5maWxsU3R5bGUgPSBcIkZvcmVzdEdyZWVuXCI7XHJcbiAgYy5maWxsUmVjdCgwLCBHUk9VTkRfWSAtIDQwLCBDQU5WQVNfV0lEVEgsIENBTlZBU19IRUlHSFQgLSBHUk9VTkRfWSArIDQwKTtcclxuXHJcbiAgLy9EUkFXIEJVU0hFU1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnVzaERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGMuZHJhd0ltYWdlKFxyXG4gICAgICBidXNoRGF0YVtpXS5pbWFnZSxcclxuICAgICAgYnVzaERhdGFbaV0ueCAtIGNhbWVyYVgsXHJcbiAgICAgIEdST1VORF9ZIC0gYnVzaERhdGFbaV0ueSAtIGNhbWVyYVlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvL0RyYXcgcm9ib3RzXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGRyYXdBbmltYXRlZFNwcml0ZShcclxuICAgICAgcm9ib3REYXRhW2ldLnggLSBjYW1lcmFYLFxyXG4gICAgICByb2JvdERhdGFbaV0ueSAtIGNhbWVyYVksXHJcbiAgICAgIHJvYm90RGF0YVtpXS5mcmFtZU5yLFxyXG4gICAgICByb2JvdFNwcml0ZVNoZWV0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy9EcmF3IG5hbm9uYXV0XHJcbiAgZHJhd0FuaW1hdGVkU3ByaXRlKFxyXG4gICAgbmFub25hdXRYIC0gY2FtZXJhWCxcclxuICAgIG5hbm9uYXV0WSAtIGNhbWVyYVksXHJcbiAgICBuYW5vbmF1dEZyYW1lTnIsXHJcbiAgICBuYW5vbmF1dFNwcml0ZVNoZWV0XHJcbiAgKTtcclxuXHJcbiAgLy9EcmF3IGEgc3ByaXRlIGFuaW1hdGlvblxyXG4gIGZ1bmN0aW9uIGRyYXdBbmltYXRlZFNwcml0ZShzY3JlZW5YLCBzY3JlZW5ZLCBmcmFtZU5yLCBzcHJpdGVTaGVldCkge1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0Um93ID0gTWF0aC5mbG9vcihmcmFtZU5yIC8gc3ByaXRlU2hlZXQubnJGcmFtZXNQZXJSb3cpO1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0Q29sdW1uID0gZnJhbWVOciAlIHNwcml0ZVNoZWV0Lm5yRnJhbWVzUGVyUm93O1xyXG4gICAgdmFyIHNwcml0ZVNoZWV0WCA9IHNwcml0ZVNoZWV0Q29sdW1uICogc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGg7XHJcbiAgICB2YXIgc3ByaXRlU2hlZXRZID0gc3ByaXRlU2hlZXRSb3cgKiBzcHJpdGVTaGVldC5zcHJpdGVIZWlnaHQ7XHJcblxyXG4gICAgYy5kcmF3SW1hZ2UoXHJcbiAgICAgIHNwcml0ZVNoZWV0LmltYWdlLFxyXG4gICAgICBzcHJpdGVTaGVldFgsXHJcbiAgICAgIHNwcml0ZVNoZWV0WSxcclxuICAgICAgc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGgsXHJcbiAgICAgIHNwcml0ZVNoZWV0LnNwcml0ZUhlaWdodCxcclxuICAgICAgc2NyZWVuWCxcclxuICAgICAgc2NyZWVuWSxcclxuICAgICAgc3ByaXRlU2hlZXQuc3ByaXRlV2lkdGgsXHJcbiAgICAgIHNwcml0ZVNoZWV0LnNwcml0ZUhlaWdodFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);